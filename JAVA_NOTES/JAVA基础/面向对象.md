## 1.面向过程与面向对象

面向过程：自已一步一步实现功能；

面向对象：调用对象，实现功能；

注：面向对象是基于面向过程的；



## 2.类与对象的关系

1. 类：对现实中，一类具有共同属性、行为的事物的抽象（描述）；
2. 对象：正式存在的实体；

类是对象的描述，对象是类的实体；

## 3.类的定义

类的组成

1. 属性：在代码中通过成员变量来体现（类中，方法外的变量）
2. 行为：在代码中通过成员方法来体现（去掉static关键字即可）

定义类的步骤：

	1. 定义类；
	1. 编写成员变量；
	1. 编写成员方法；

```java
public class 类名(){
  成员变量；
  成员方法；
}
```

```java
//Student.java
public class Student(){  //定义类；
  String name;
  int age;   //成员变量；
  public void study(){  //成员方法
    sout("学习");
  }
}
```



## 4.对象的使用

### 4.1 创建对象

```java
格式:
类名 对象名 = new 类名();
```

```java
Student stu = new Student();
```



### 4.2 使用对象

```java
使用成员变量:
格式：对象名.成员变量名;

使用成员方法:
格式：对象名.成员方法名;
```

```java
//TestStudent.java
public class TestStudent(){
  public static void main(String[] args){
    Student stu = new Student();
    sout(stu.age);
    sout(stu.name);
    stu.study();
    
    sout(stu);//创建对象时，使用new方法也会在内存中开辟独立空间。
    //例如：person.Practic.OOP.object01.Student@2f92e0f4
    //person.Practic.OOP.object01.Student : 全类名（包名 + 类名）
    //2f92e0f4 : 十六进制地址值
  }
}
```



## 5.对象内存图

### 5.1单个对象内存图

```java
u//Student.java 类文件
public class Student{
  String name;
  int age;
  
  public void studey(){ 
    sout("学习");
  }
}

//TestStudent.java 测试文件
public class TestStudent{  //1.
  public static void main(String[] args){
    Student stu = new Student(); //2.3.
    stu.name = "yty";//4.
    stu.age = 21;
    stu.study();//5.
  }
}
//1.带有main方法的字节码，先进入方法区；
//2.定义一个类对象，类文件进入方法区；
//3.通过new在堆内存中开辟新的内存,在堆内存中存放 成员变量、成员方法的地址；
//4.更改成员变量值；
//5.stu通过地址值，找到堆地址，再通过 成员方法的地址 找到方法区中的成员方法，再将方法放入栈内存运行；
```



### 5.2 多个对象内存图

```java
//Student.java 类文件
public class Student{
  String name;
  int age;
  
  public void studey(){ 
    sout("学习");
  }
}

//TestStudent.java 测试文件
public class TestStudent{  //1. 
  public static void main(String[] args){
    Student stu = new Student(); //2.3.
    stu.name = "yty";//4.
    stu.age = 21;
    stu.study();//5.
    
    Student stu2 = new Student(); //6.
    stu2.name = "21";//7.
    stu2.age = 18;
    stu2.study();//8.
  }
}
//1.字节码文件加载时，进入方法区。带有main方法的字节码文件，优先进入；
//2.main方法被JVM自动加载，进入栈内存。使用了Student类，创建了stu对象，此时Student类的字节码文件进入方法区；
//3.new在堆内存中开辟了空间，存放Student类中的成员变量、成员方法的地址；并初始化为默认值；并返回地址值给栈内存中的stu
//4.通过stu地址，找到堆内存，修改成员变量值；
//5.通过stu地址，找到堆内存，通过成员方法地址，调用方法区中的Student类中的study方法，study方法进入栈内存中运行；
//6.使用Student类创建了新的对象stu2，由于Student类文件已经加载在方法区，不会重新加载一次；
//new方法在堆内存中开辟新的空间，存放Student类中的成员变量、成员方法的地址；并初始化为默认值；并返回地址值给stu2；
//7.通过stu2的地址， 找到堆内存，修改成员变量地址；
//8.通过stu2的地址，找到堆内存，通过成员方法的地址，调用方法区的Student类中的study方法，study方法进入栈内存运行；
```

### 5.3 多个引用指向同一个对象内存图

```java
//Student.java 类文件
public class Student{
  String name;
  int age;
  
  public void studey(){ 
    sout("学习");
  }
}

//TestStudent.java 测试文件
public class TestStudent{  //1.
  public static void main(String[] args){
    Student stu = new Student(); //2.3.
    stu.name = "yty";//4.
    Student stu2 = stu;//5.
    stu2.name = "tyt";//6.
    
    stu1 = null;//7.
    stu2 = null;//8.
    //9.
  }
}
//1.带有main方法的字节码文件优先加载进入方法区；main方法被JVM调用，进入栈内存运行；
//2.使用Student类，创建stu对象，Student类字节码文件被加载进方法区；
//3.new方法在堆内存开辟空间，存放Student类的成员变量、成员方法的地址；并初始化默认值；并返回地址值给stu;
//4.通过stu地址，找到堆内存，更改成员变量值；
//5.使用Student类，创建stu2对象，Student字节码文件已被加载，不会再被加载；
//将stu的地址值传递给了stu2对象，现在，stu2对象与stu对象都指向同一个堆内存地址；
//6.通过stu2中的地址，访问堆内存地址，修改成员变量；
//现在stu.name为"tyt"，stu2.name也为"tyt";
//7.通过null，让stu对象不指向任何有效对象；即切断stu对象与内存地址的链接；
//现在，stu无法访问Student类中的成员变量、成员方法；但是，stu2依旧可以，依旧保留着对内存地址的链接；
//8.通过null，让stu2对象也不指向任何有效的对象，即切断了stu2对象与内存地址间的链接，现在stu2也无法访问成员变量与方法。
//9.此时，堆内存中的地址，没有方法能去访问，就被判定为“垃圾”，会被JAVA垃圾回收器，自动清理。
```

## 6.成员变量

成员变量：类中，方法外的变量；

局部变量：方法内或方法声明上的变量；

|      区别      |             成员变量             |                    局部变量                    |
| :------------: | :------------------------------: | :--------------------------------------------: |
|  类中位置不同  |           类中，方法外           |           方法内、方法声明上（形参）           |
| 内存中位置不同 |              堆内存              |                     栈内存                     |
|  生命周期不同  | 随对象存在而存在，对象消失而消失 |      随方法调用而存在，方法调用结束而消失      |
|  初始化值不同  |          有默认初始化值          | 没有默认初始化值，必须先定义，初始化后才能使用 |
|                |                                  |                                                |



## 7.三大特征

### 7.1 封装

1. 关键字：private

   1. 是一个权限修饰符；
   2. 可以修饰成员（成员变量、成员方法）；
   3. 被修饰的成员只能在本类中才能访问！

2. 注意：JAVA就近原则

   1. 当成员变量与局部变量重名时，JAVA会采用就近原则，调用距离较近的变量。

   ```java
   //Student.java
   public class Student{
     String name;
     int age;
     public void setAge(int age){
       age = age; //此处，方法内部的局部变量与成员变量重名了，就近原则，JAVA会调用参数中的age，即此等式两边的age都是局部变量，成员变量根本没有调用，所以无法给成员变量赋值；
     }
   }
   
   //解决方案:利用 this关键字，在局部变量前加上this，即可区分成员变量与局部变量；
   this.age = age;
   ```

   2. this关键字：代表所在类对象的引用；即方法被哪个对象调用，this就代表哪个对象；

   ```java
   //Student.java
   public class Student{
     public void setName(){
       sout(this); //打印this的值；
     }
   }
   
   //TestStudent.java
   public class TestStudent{
     public static void main(String[] args){
       Student stu = new Student(); //创建stu对象；
       sout(stu); //打印stu的地址值；
       stu.setName();//stu对象，调用Student类中的setName方法，此时this就代表stu对象。
       //this 与 stu 所打印出的地址值会是相同的地址值；
     }
   }
   ```

   3. 在调用成员变量时，系统会默认加上this关键字；
   4. this的内存原理

   ![this内存图](/Users/tyy/NOTES/JAVA_NOTES/图片/this内存图.png)![]()

   流程：

   1. main方法进入栈内存运行；
   2. 创建对象s1，new方法在堆内存开辟控件；存放成员变量、成员方法地址；初始化为默认值；返回地址值给对象；
   3. 调用成员方法，传入参数，成员方法中的局部变量接收参数；对象s1为方法的调用者，此时this就代表s1，与s1的地址值相同；
   4. this通过地址值访问s1的堆内存地址，获取成员变量，并进行操作；

3. 封装的常见体现
   1. 私有成员变量（private)，并留下方法进行访问；
   2. 将代码抽取到方法中，是对代码的一种封装；
   3. 将属性抽取到类中，是对数据的一种封装；（相同属性数据，放入同一数组）
4. 封装 的好处
   1. 提高代码的安全性；
   2. 提高代码的复用性；

### 7.2 继承

### 7.3 多态



## 8.构造方法

概述：构造、创建对象时，所调用的方法；

### 8.1 基本概念

格式：

	1. 方法名与类名完全相同；
	1. 没有返回值类型，void也没有；
	1. 没有具体的返回值（不能由return语句带回结果数据）；

执行时机：

	1. 创建对象时调用，每创建一次对象，就会执行一次构造方法；
	1. 不能手动调用构造方法；

```java
//Student.java
public class Student{
  public Student(){
    sout("构造语句")
  }
}

//TestStudent.java
public class TestStudent{
  public static void main(String[] args){
    Student stu = new Student();  //会调用构造方法，打印"构造语句";
  }
}
```



### 8.2 构造方法的作用

作用：用于给对象的属性(数据)，进行初始化；

```java
//Student.java
public class Student{
  int age;
  public Student(int age){
    this.age = age; //个接收一个int类型数据，赋值给成员变量age；
  }
}

//TestStudent.java
public class TestStudent{
  public static void main(String[] args){
    Student stu = new Student(20); //向构造函数传递参数,对对象的属性进行初始化；
    sout(stu.age);//此时成员变量age==20；
  }
}
```



### 8.3 构造方法的注意事项

1. 构造方法的创建
   1. 如果没有定义构造方法，系统将给出一个默认的、无参数的构造方法；`public 类名(){}`
   2. 如果定义了构造方法，系统将不再提供默认的构造方法；
2. 构造方法的重载
   1. 如果自定义了带参数的构造方法，还要使用无参数的构造方法，必须再写一个无参数构造方法；
3. 推荐：无论是否使用，都手动书写无参数构造方法，和带参数的构造方法；

```java
//Student.java
public class Student{
  int age;
  String name;
  public Student(){} //无参数的构造函数
  public Student(String name,int age){
    this.name = name;
    this.age = age;
  }
}
```

